/* =========== Category Landing Page template styling =========== */


.category-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 35px 0;
  position: relative;

  h2 {
    text-align: center;
  }

  h3 {
    margin-bottom: 10px;
  }

  .col,
  .col-md-6,
  h2 {
    margin-bottom: 20px;
    @media (min-width:$xlarge-screen) {
      margin-bottom: 30px;
    }
  }
  @media (min-width:$small-screen) {
    .intro {
      text-align: center;
    }
  }
  @media (min-width:$medium-screen) {
    .col-md-6 {
      padding: 0 25px;
    }

    .intro {
      max-width: 700px;
      margin: -10px auto 30px;
    }
  }
  @media (min-width:$large-screen) {
    .intro {
      margin: -20px auto 30px;
    }
  }
  @media (min-width: 1600px) {
    max-width: 1350px;
    padding: 40px 0;
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.page-nav .field--name-field-in-page-navigation-links {
  width: 100%;
}
.page-nav {
  padding: 20px 0;
  text-align: center;
  @media (min-width:$medium-screen) {
    padding: 30px 0;
  }
  @media (min-width:$large-screen) {
    padding: 40px 0;
  }
}

// =========== CLP page navigation buttons ===========

a.button.anchor-link {
  background: $stormy;
  width: 100%;
  margin: 10px auto;

  span {
    border-color: $stormy;

    svg {
      fill: $stormy;
    }
  }

  &:focus,
  &:hover {
    background: $darkmaroon;
    color: $white;

    span {
      border-color: $darkmaroon;

      svg {
        fill: $darkmaroon;
      }
    }
  }
}

/* Explanation about CLP sections: 
Changed them to <article> instead of <section> in order to always make the background colors work as expected. 
The Page Nav should ALWAYS be grey, followed by a white category-container. 
The white sections have the arrows. 
The even numbered category-containers should be grey. 

When they were sections, it was counting the intro as the first section. Or the alert banner (that was up for COVID) as the first and the intro as second. */

article.category-container:nth-of-type(odd) {
  &:after,
  &:before {
    position: absolute;
    left: 50%;
    width: 0;
    height: 0;
    margin-left: -34px;
    border-right: 35px solid transparent !important;
    border-bottom: 0 solid transparent !important;
    border-left: 35px solid transparent !important;
    padding-bottom: 2em;
    content: '';
    z-index: 10;
  }

  &:before {
    top: 0;
    border: 25px solid $lightgrey;
  }

  &:after {
    top: 100%;
    border: 25px solid $white;
  }
}

article.category-container:nth-of-type(odd):last-child {
  &:after {
    display: none;
  }
}

.page-nav,
article.category-container:nth-of-type(even) {
  position: relative;
  background: $lightgrey;

  &:after,
  &:before {
    background: inherit;
    position: absolute;
    content: '';
    top: 0;
    width: 100%;
    height: 100%;
    right: 100%;
  }

  &:after {
    left: 100%;
  }
}

.page-nav.center {
  .row {
    justify-content: center!important;
  }
}